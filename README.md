
# 特点
- 高 I/O

# 性能测试
- I/O 负载：当前的配置可以处理多大的并发
- 同一域名下浏览器的并发连接数限制是多少？主域名和子域名是不是一样的？

- 硬盘：7200 转 / 15000 转
- 文件系统：inode size 大小，决定了可以存储图片的数量


## 文件系统
- 分布式文件系统
- CDN


---


# 图片上传

# 图片同步

# 图片下载


---


# 存储
- 路径 hash
- nginx hash 分流
- 图片修改

/2017/
/2018/

## NFS
- 挂载多台 nfs

### NFS 缺点


## MySQL
- 相对路径：/upload/2017/12/xxx.jpg


---


# 图片尺寸

## 头像
- 100 x 100

## 手机 


# 图片大小
- < 500K


- 水印
- 缩略图
- 防盗链
